---
import SingleLayout from '../../layouts/SingleLayout.astro';
import { getNodeByURI, getAllUris, blogPageQuery } from '../../queries/api';
const uri = `/${Astro.params.uri}/`;
const data = await getNodeByURI(uri);

const node = data.nodeByUri;
import Single from '../../components/Blog/Single.astro';
export async function getStaticPaths() {
  return await getAllUris();
}

const allPosts = await blogPageQuery();
const seo = node.seo;

console.log(node);
---

<SingleLayout title={node.title} description={node.excerpt}>
  <Single post={node} allPosts={allPosts} />
</SingleLayout>
